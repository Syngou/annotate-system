(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40ed5a08"],{"1b91":function(t,e,n){},"3b81":function(t,e,n){"use strict";n("f4ed")},"6dda":function(t,e,n){"use strict";n("cc47")},b351:function(t,e,n){"use strict";n("be61")},be61:function(t,e,n){},cc47:function(t,e,n){},de95:function(t,e,n){"use strict";n("1b91")},e4441:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-editor-container"},[n("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[n("line-chart",{attrs:{"chart-data":t.lineChartData}})],1),n("el-row",[n("el-col",[n("div",{staticClass:"chart-wrapper"},[n("bar-chart")],1)])],1),n("el-row",[n("el-col",[n("entity-item-box",{attrs:{labels:t.items,text:t.currentDoc.text,entities:t.currentDoc.annotations,"add-entity":t.addEntity}})],1)],1)],1)},a=[],r=(n("a9e3"),n("aff5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})}),s=[];n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("1276"),n("159b"),n("53ca");function o(t,e,n){var i,a,r,s,o,l=function l(){var c=+new Date-s;c<e&&c>0?i=setTimeout(l,e-c):(i=null,n||(o=t.apply(r,a),i||(r=a=null)))};return function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];r=this,s=+new Date;var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(o=t.apply(r,c),r=c=null),o}}var l={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=o((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}},c=n("313e");n("817d");var d={mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,n=t.actualData;this.chart.setOption({xAxis:{data:["关系","药物","疾病","器械","患者"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10],backgroundColor:"rgba(255,255,255,0.8)"},yAxis:{axisTick:{show:!1}},legend:{data:["标准模型","当前使用模型"]},series:[{name:"标准模型",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"当前使用模型",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:n,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},u=d,f=n("2877"),h=Object(f["a"])(u,r,s,!1,null,null,null),p=h.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})},y=[],_=n("313e");n("817d");var m={mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=_.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,0.8)",axisPointer:{type:"cross"}},title:{text:"模型预测错误个数",left:"center",align:"right"},xAxis:{type:"category",data:["关系","疾病","患者","药物","器械"]},yAxis:{type:"value"},series:[{data:[100,80,95,83,73],type:"bar"}]})}}},g=m,v=Object(f["a"])(g,b,y,!1,null,null,null),x=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.errorData,(function(e,i){return n("div",{key:i,staticClass:"error-display"},[n("span",{domProps:{innerHTML:t._s(e.sentence)}})])})),0)},E=[],$={props:{errorData:{type:Array,default:function(){return[{sentence:"本台记者报道： 某糖尿病患者在一位国际著名医生的帮助下康复,他十分感激这位医生，并向我们推荐了一种药物",moduleName:"模型1",results:[{startOffset:3,endOffset:5,standardResult:"疾病",predictResult:"药物"}]}]}}},created:function(){},methods:{}},k=$,S=(n("de95"),Object(f["a"])(k,w,E,!1,null,null,null)),C=S.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"highlight-container highlight-container--bottom-labels"},t._l(t.chunks,(function(e,i){return n("entity-item",{key:i,attrs:{content:e.text,newline:e.newline,label:e.label,standardType:e.standardType,predictType:e.predictType,color:e.color,labels:t.labels}})})),1)},D=[],O=(n("99af"),n("fb6a"),n("2909")),z=n("b85c"),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("span",{class:{highlight:t.label},style:{borderColor:t.color}},[n("span",{staticClass:"bottom"},[n("span",{staticClass:"highlight__standard",style:{backgroundColor:t.color,color:t.textColor},attrs:{"data-label":t.standardType}}),n("span",{staticClass:"highlight__content"},[t._v(t._s(t.content)+" ")]),n("span",{staticClass:"highlight__label",style:{backgroundColor:t.color,color:t.textColor},attrs:{"data-label":t.label}})])])]],2)},j=[],A={props:{content:{type:String,default:"",required:!0},label:{type:String,default:""},color:{type:String,default:"#64FFDA"},labels:{type:Array,default:function(){return[]},required:!0},standardType:{type:String,default:""},predictType:{type:String,default:""}},data:function(){return{showMenu:!1}},computed:{textColor:function(){var t=function(t){if(null!=t&&""!=t){var e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),i=parseInt(t.substr(5,2),16);return(299*e+587*n+114*i)/1e3<128?"#ffffff":"#000000"}return"ffffff"};return t(this.color)}}},I=A,M=(n("3b81"),Object(f["a"])(I,R,j,!1,null,"73b67d1e",null)),N=M.exports,H={components:{EntityItem:N},props:{text:{type:String,default:"",required:!0},labels:{type:Array,default:function(){return[]},required:!0},entities:{type:Array,default:function(){return[]},required:!0},addEntity:{type:Function,default:function(){return[]},required:!0}},data:function(){return{showMenu:!1,x:0,y:0,start:0,end:0}},computed:{sortedEntities:function(){return this.entities.slice().sort((function(t,e){return t.start_offset-e.start_offset}))},chunks:function(){var t,e=[],n=this.sortedEntities,i=0,a=Object(z["a"])(n);try{for(a.s();!(t=a.n()).done;){var r=t.value;e=e.concat(this.makeChunks(this.text.slice(i,r.start_offset))),i=r.end_offset;var s=this.labelObject[r.label],o=this.labelObject[r.standardType],l=this.labelObject[r.predictType];e.push({id:r.id,label:s.text,standardType:o.text,predictType:l.text,color:s.background_color,text:this.text.slice(r.start_offset,r.end_offset)})}}catch(c){a.e(c)}finally{a.f()}return e=e.concat(this.makeChunks(this.text.slice(i,this.text.length))),console.log(e),e},labelObject:function(){var t,e={},n=Object(z["a"])(this.labels);try{for(n.s();!(t=n.n()).done;){var i=t.value;e[i.id]=i}}catch(a){n.e(a)}finally{n.f()}return e}},methods:{makeChunks:function(t){var e,n=[],i=t.split("\n"),a=Object(z["a"])(i.slice(0,-1));try{for(a.s();!(e=a.n()).done;){var r=e.value;n.push({label:null,color:null,text:r+"\n",newline:!1}),n.push({label:null,color:null,text:"",newline:!0})}}catch(s){a.e(s)}finally{a.f()}return n.push({label:null,color:null,text:i.slice(-1)[0],newline:!1}),n},show:function(t){var e=this;t.preventDefault(),this.showMenu=!1,this.x=t.clientX||t.changedTouches[0].clientX,this.y=t.clientY||t.changedTouches[0].clientY,this.$nextTick((function(){e.showMenu=!0}))},setSpanInfo:function(){var t;if(window.getSelection?t=window.getSelection():document.selection&&(t=document.selection),!(t.rangeCount<=0)){var e=t.getRangeAt(0),n=e.cloneRange();n.selectNodeContents(this.$el),n.setEnd(e.startContainer,e.startOffset),this.start=Object(O["a"])(n.toString()).length,this.end=this.start+Object(O["a"])(e.toString()).length}},validateSpan:function(){if("undefined"===typeof this.start||"undefined"===typeof this.end)return!1;if(this.start===this.end)return!1;var t,e=Object(z["a"])(this.entities);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.start_offset<=this.start&&this.start<n.end_offset)return!1;if(n.start_offset<this.end&&this.end<=n.end_offset)return!1;if(this.start<n.start_offset&&n.end_offset<this.end)return!1}}catch(i){e.e(i)}finally{e.f()}return!0},open:function(t){this.setSpanInfo(),this.validateSpan()&&this.show(t)},assignLabel:function(t){this.validateSpan()&&(this.addEntity(this.start,this.end,t),this.showMenu=!1,this.start=0,this.end=0)}}},L=H,q=(n("b351"),Object(f["a"])(L,T,D,!1,null,"4b369f54",null)),F=q.exports,B={newVisitis:{expectedData:[100,120,161,134,132],actualData:[120,82,91,154,132]}},P={name:"DashboardAdmin",components:{LineChart:p,BarChart:x,DetailCard:C,EntityItemBox:F},data:function(){return{lineChartData:B.newVisitis,items:[{id:4,text:"疾病",prefix_key:null,suffix_key:"l",background_color:"#7c20e0",text_color:"#ffffff"},{id:5,text:"患者",prefix_key:null,suffix_key:"m",background_color:"#fbb028",text_color:"#000000"},{id:6,text:"药物",prefix_key:null,suffix_key:"o",background_color:"#e6d176",text_color:"#000000"},{id:7,text:"器械",prefix_key:null,suffix_key:"p",background_color:"#6a74b9",text_color:"#ffffff"}],currentDoc:{id:8,text:"伴随着医疗器械新产品、新工艺的发展，压缩气体在医疗器械的生产过程中被广泛使用。在洁净室内的医疗器械使用压缩气体时，应根据其预期用途对控制水平和监测项目做出合理的评定，识别出安全的有关特征，结合受控项目、系统设计和监测工作进行风险分析，以满足《医疗器械生产质量管理规范附录》中对压缩气体提出的要求",annotations:[{id:17,prob:0,label:4,start_offset:61,end_offset:70,user:1,document:8,standardType:4,predictType:6},{id:19,prob:0,label:4,start_offset:95,end_offset:98,user:1,document:8,standardType:4,predictType:6},{id:16,prob:0,label:6,start_offset:14,end_offset:22,user:1,document:8,standardType:4,predictType:6},{id:18,prob:0,label:6,start_offset:73,end_offset:87,user:1,document:8,standardType:4,predictType:6},{id:20,prob:0,label:7,start_offset:100,end_offset:105,user:1,document:8,standardType:4,predictType:6}],meta:'{"wikiPageId":2}',annotation_approver:null}}},methods:{handleSetLineChartData:function(t){this.lineChartData=B[t]},addEntity:function(t,e,n){var i={id:Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER)),start_offset:t,end_offset:e,label:n};this.currentDoc.annotations.push(i)}}},X=P,G=(n("6dda"),Object(f["a"])(X,i,a,!1,null,"606a1fcf",null));e["default"]=G.exports},f4ed:function(t,e,n){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71dbadda"],{"79f7":function(t,e,n){},"84f5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return r}));var i=n("b775");function a(t){return Object(i["a"])({url:"api/labels/add/",method:"POST",data:t})}function l(){return Object(i["a"])({url:"api/labels/get/"})}function r(t){return Object(i["a"])({url:"api/translate/?text=".concat(t)})}},c344:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.labels,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),n("el-table-column",{attrs:{label:"标签","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.$index==t.editCurrent?[n("el-input",{attrs:{size:"small"},model:{value:t.editValue,callback:function(e){t.editValue=e},expression:"editValue"}})]:n("span",[t._v(" "+t._s(e.row.text))])]}}])}),n("el-table-column",{attrs:{label:"标签快捷键","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.$index==t.editCurrent?[n("el-input",{attrs:{size:"small"},model:{value:t.editShortcut,callback:function(e){t.editShortcut=e},expression:"editShortcut"}})]:n("span",[t._v(" "+t._s(e.row.shortcut))])]}}])}),n("el-table-column",{attrs:{label:"标签颜色",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return n("span",{},[n("el-color-picker",{attrs:{"show-alpha":"",predefine:t.$store.state.errorAnalysis.colorArray},model:{value:e.row.color,callback:function(n){t.$set(e.row,"color",n)},expression:"scope.row.color"}})],1)}}])}),n("el-table-column",{attrs:{align:"center",width:"350",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return n("span",{},[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.$index)}}},[t._v(" 删除 ")]),e.$index==t.editCurrent?n("span",[n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"mini",icon:"el-icon-circle-check-outline"},on:{click:function(n){return t.confirmEdit(e.row)}}},[t._v(" 确定 ")]),n("el-button",{attrs:{size:"mini",icon:"el-icon-refresh",type:"warning"},on:{click:function(n){return t.cancelEdit(e.row)}}},[t._v(" 取消 ")])],1):n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(n){return t.edit(e.row,e.$index)}}},[t._v(" 编辑 ")])],1)}}])})],1),n("div",{staticStyle:{"margin-top":"20px"}},[t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e(),n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v(" 添加新标签（按回车键添加） ")])],1)],1)},a=[],l=n("f3f3"),r=(n("a434"),n("2f62")),u=n("84f5"),s={name:"TableSetting",data:function(){return{inputVisible:!1,inputValue:"",editCurrent:-1,editValue:"",editShortcut:""}},computed:Object(l["a"])({},Object(r["b"])(["labels"])),created:function(){var t=this;Object(u["b"])().then((function(e){t.$store.dispatch("annotate/setLabels",e.data.labels)}))},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2?"success-row":""},handleDelete:function(t){this.labels.splice(t,1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this,e=this.inputValue;if(e){var n={text:e,color:"red",shortcut:"0"};Object(u["a"])(n).then((function(e){t.$store.dispatch("annotate/setLabels",e.data.labels)}))}this.inputVisible=!1,this.inputValue=""},edit:function(t,e){this.editValue=t.text,this.editCurrent=e,this.editShortcut=t.shortcut},cancelEdit:function(){this.editCurrent=-1},confirmEdit:function(t){t.text=this.editValue,t.shortcut=this.editShortcut,this.editValue="",this.editShortcut="",this.editCurrent=-1}}},c=s,o=(n("ec96"),n("0c7c")),d=Object(o["a"])(c,i,a,!1,null,null,null);e["default"]=d.exports},ec96:function(t,e,n){"use strict";n("79f7")}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-443024c4"],{"87e1":function(e,t,n){},d44b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"add-button"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showEditForm=!0}}},[e._v(" 添加成员 ")])],1),n("el-table",{attrs:{data:e.groupList,"element-loading-text":"Loading","row-class-name":e.tableRowClassName,border:"",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"用户名",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index==e.editCurrent?[n("el-input",{attrs:{size:"small"},model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}})]:n("span",[e._v(" "+e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{align:"center",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.role)+" ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"210",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index==e.editCurrent?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.confirmEdit}},[e._v(" 确定 ")]):n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){return e.handleEdit(t.$index)}}},[e._v(" 编辑 ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index)}}},[e._v(" 删除 ")])]}}])})],1),n("div",[n("el-dialog",{attrs:{visible:e.showEditForm,width:e.width},on:{"update:visible":function(t){e.showEditForm=t}}},[n("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.newMember}},[n("el-form-item",{attrs:{label:"成员昵称"}},[n("el-input",{model:{value:e.newMember.name,callback:function(t){e.$set(e.newMember,"name",t)},expression:"newMember.name"}})],1),n("el-form-item",{attrs:{label:"成员角色"}},[n("el-input",{model:{value:e.newMember.role,callback:function(t){e.$set(e.newMember,"role",t)},expression:"newMember.role"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addMember()}}},[e._v(" 确定 ")])],1)],1)],1)],1)},r=[],o=n("f3f3"),a=(n("b0c0"),n("a434"),n("b775"));function l(e){return Object(a["a"])({url:"api/addMember/",method:"POST",data:e})}var s=n("2f62"),u={name:"Group",data:function(){return{newMember:{},showEditForm:!1,editName:"",editCurrent:-1}},computed:Object(o["a"])(Object(o["a"])({width:function(){return window.innerWidth<=400?"80%":"30%"}},Object(s["b"])(["name","roles"])),{},{groupList:function(){return[{name:this.name,role:this.roles[0]}]}}),methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2?"highlight-row":""},addMember:function(){var e=this;this.showEditForm=!1,this.newMember.name&&this.newMember.role?l(this.newMember).then((function(){e.$message.success("添加成功"),e.groupList.push(e.newMember)})):this.$message.error("请将成员信息填写完整")},handleEdit:function(e){this.editCurrent=e,this.editName=this.groupList[e].name},confirmEdit:function(){this.groupList[this.editCurrent].name=this.editName,this.editCurrent=-1},handleDelete:function(e){var t=this;this.$confirm("确定要删除吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.groupList.splice(e,1)}))}}},c=u,d=(n("e2e6"),n("0c7c")),m=Object(d["a"])(c,i,r,!1,null,null,null);t["default"]=m.exports},e2e6:function(e,t,n){"use strict";n("87e1")}}]);
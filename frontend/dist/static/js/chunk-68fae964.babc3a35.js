(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68fae964"],{"01d9":function(t,e,n){},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var a=n("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(a["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(t,e):void 0}}},1015:function(t,e,n){"use strict";n("da85")},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("6b75");function o(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=n("06c5");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return o(t)||r(t)||Object(s["a"])(t)||i()}},"3fff":function(t,e,n){},"6b75":function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}n.d(e,"a",(function(){return a}))},8205:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TopNavigation"),n("Essay"),n("el-backtop",{attrs:{duration:0,bottom:70}}),n("div",{staticClass:"footer"},[t._v("Copyright ¬© "+t._s(t.year)+" Syngou")])],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topNavigation"},["mobile"!==t.device?n("span",{staticClass:"title"},[t._v("ÂåªÁñóÊñáÊú¨Ê†áÊ≥®Âπ≥Âè∞")]):t._e(),n("a",{on:{click:function(e){return t.$bus.$emit("showAnnotate")}}},[t._v("Ëá™Âä®ÂåñÊ†áÊ≥®")]),n("a",{on:{click:function(e){return t.$bus.$emit("showDrawer")}}},[t._v("‰∏ä‰º†")]),t.avatar?n("div",{staticClass:"right-menu"},[n("el-dropdown",{staticClass:"avatar-container",attrs:{trigger:"click"}},[n("div",{staticClass:"avatar-wrapper"},[n("img",{staticClass:"user-avatar",attrs:{src:t.avatar+"?imageView2/1/w/80/h/80"}})]),n("el-dropdown-menu",{staticClass:"user-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[n("router-link",{attrs:{to:"/"}},[n("el-dropdown-item",[t._v(" ‰∏ªÊéßÂè∞ ")])],1),n("router-link",{attrs:{to:"/profile"}},[n("el-dropdown-item",[t._v(" ‰∏™‰∫∫‰∏≠ÂøÉ ")])],1),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout(e)}}},[n("span",{staticStyle:{display:"block"}},[t._v("ÈÄÄÂá∫")])])],1)],1)],1):n("router-link",{staticStyle:{float:"right"},attrs:{to:"/login"}},[t._v("ÁôªÂΩï")]),n("AutoAnnotate"),n("ShowAnnotation")],1)},s=[],i=(n("96cf"),n("1da1")),l=n("5530"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{visible:t.annotateModal,title:"Ëá™Âä®ÂåñÊ†áÊ≥®","modal-append-to-body":!1,width:t.width},on:{"update:visible":function(e){t.annotateModal=e}}},[n("el-collapse",[n("el-collapse-item",{attrs:{title:"‰ΩøÁî®ËØ¥Êòé"}},[n("div",[t._v(" ‰∏ÄÈîÆÊ†áÊ≥®ÂÖ®ÊñáÔºåÁî®‰∫éÊú∫Âô®Â≠¶‰π†Ëá™Âä®Ê†áÊ≥®ÔºåÂêéÂè∞‰º†Êù•Ë¶ÅÊ†áÊ≥®ÁöÑËØçÔºåÂâçÂè∞ËøõË°åÊ†áÊ≥®Ôºå‰∫∫Â∑•Ê£ÄÊü•ÊòØÂê¶Ê≠£Á°Æ ")]),n("hr"),n("div",[t._v(" Â¶ÇÊûúÊØèÁßçÁ±ªÂûãÊúâÂ§ö‰∏™ÂÄºÔºåËØ∑Áî®"),n("span",{staticStyle:{color:"red","font-size":"20px"}},[t._v(" ‰∏Ä‰∏™ ")]),t._v(" Á©∫Ê†ºÈöîÂºÄ"),n("br"),n("hr"),t._v(" ‰∫∫Â∑•Ê†áÊ≥®Êó∂‰∏çÊé®Ëçê‰ΩøÁî®"),n("br"),n("hr"),n("span",{staticStyle:{color:"red","font-size":"20px"}},[t._v("Ëã•Ë¶Å‰ΩøÁî®ÔºåÈúÄÂú®ÊúÄÂºÄÂßãÊó∂‰ΩøÁî®ÔºàÂç≥ËøòÊú™ËøõË°åÊ†áÊ≥®Êó∂ÔºâÔºåÂê¶Âàô‰ºöÊúâÂ•áÊÄ™ÁöÑÁªìÊûú")])])])],1),n("el-input",{model:{value:t.relation,callback:function(e){t.relation=e},expression:"relation"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("el-button",[t._v("ÂÖ≥Á≥ª")])],1)]),n("el-input",{model:{value:t.disease,callback:function(e){t.disease=e},expression:"disease"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("el-button",[t._v("ÁñæÁóÖ")])],1)]),n("el-input",{model:{value:t.medicine,callback:function(e){t.medicine=e},expression:"medicine"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("el-button",[t._v("ËçØÁâ©")])],1)]),n("el-input",{model:{value:t.tool,callback:function(e){t.tool=e},expression:"tool"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("el-button",[t._v("Âô®Ê¢∞")])],1)]),n("span",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.autoAnnotate}},[t._v("Á°ÆÂÆö")])],1)],1)],1)},u=[],d=(n("99af"),n("a630"),n("ac1f"),n("3ca3"),n("1276"),n("498a"),n("2909")),f=n("4360"),p=n("dd44"),h={buttonStyle:function(){return"cursor:pointer;margin-left:5px"},textStyle:function(t){return"border:5px solid ".concat(p["a"].state.colorArray[t],";background-color:").concat(p["a"].state.colorArray[t],";border-radius: 10px;")},annotate:function(t,e){var n=this,a=f["a"].state.annotate.selectionText.trim();f["a"].dispatch("annotate/addToList",{id:t,text:a});var o=this.textStyle(e);if(a.length>0){var r=document.createElement("i");r.setAttribute("id",t),r.addEventListener("click",(function(){n.deleteById(t)})),r.setAttribute("class","el-icon-close"),r.setAttribute("style",this.buttonStyle());var s=document.createElement("span");s.setAttribute("style",o);var i=window.getSelection().getRangeAt(0);i.surroundContents(s),s.appendChild(r),window.getSelection().removeAllRanges(),f["a"].state.annotate.id++}},deleteById:function(t){var e=document.getElementById("essay"),n=document.getElementById(t).parentNode,a=document.createTextNode(n.innerText.trim()),o=n.innerText.trim();e.insertBefore(a,n),e.removeChild(n),f["a"].dispatch("annotate/deleteAnnotatedText",{type:t,text:o})},autoAnnotate:function(t){for(var e=this,n=document.getElementById("essay"),a=[],o=0;o<t.length;o++){var r;(r=a).push.apply(r,Object(d["a"])(t[o].split(" ")));for(var s=0;s<a.length;s++)0!==a[s].length&&function(){f["a"].state.annotate.data[o].push(a[s]),n.innerHTML=n.innerHTML.replaceAll(a[s],"<span style='".concat(e.textStyle(o),"'>").concat(a[s],"<i class='deleteButtonTemp el-icon-close' style='").concat(e.buttonStyle(),"'></i> </span>"));for(var t=Array.from(document.getElementsByClassName("deleteButtonTemp")),r=function(n){t[n].id=o+"-"+f["a"].state.annotate.id++,t[n].onclick=function(){e.deleteById(t[n].id)}},i=0;i<t.length;i++)r(i)}();a=[]}}},v={name:"AutoAnnotate",created:function(){var t=this;this.$bus.$on("showAnnotate",(function(){t.annotateModal=!0}))},data:function(){return{annotateModal:!1,relation:"",disease:"",medicine:"",tool:"",width:""}},mounted:function(){var t=window.innerWidth;this.width=t<=450?"80%":"30%"},methods:{autoAnnotate:function(){this.annotateModal=!1,h.autoAnnotate([this.relation,this.disease,this.medicine,this.tool]),this.relation="",this.disease="",this.medicine="",this.tool=""}}},m=v,b=n("2877"),w=Object(b["a"])(m,c,u,!1,null,"23395c74",null),y=w.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-drawer",{staticClass:"drawer",attrs:{visible:t.drawer,"modal-append-to-body":!1,"show-close":!1,title:"title",size:"40%","with-header":!1},on:{"update:visible":function(e){t.drawer=e}}},[t._l(t.type,(function(e,a){return n("div",{key:a},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.data[a].length>0,expression:"data[index].length > 0"}],staticClass:"list"},[n("button",{staticClass:"btn",style:{backgroundColor:t.colorArray[a]}},[t._v(" "+t._s(e)+" ")]),n("div",[n("ol",t._l(t.data[a],(function(e,a){return n("li",{key:a,staticClass:"list-item"},[t._v(" "+t._s(e)+" ")])})),0)])])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],staticStyle:{"font-size":"24px"}},[t._v(" Âè™ÊúâÊ†áÊ≥®‰∫ÜÊâç‰ºöÂú®ËøôÈáåÊòæÁ§∫Âì¶üë®üèª‚Äçüî¨ ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"upload-button"},[n("el-button",{attrs:{type:"primary"},on:{click:t.uploadData}},[t._v("‰∏ä‰º†Êï∞ÊçÆ")])],1)],2)],1)},_=[],x=n("b85c"),S=(n("d3b7"),n("bc3a")),C=n.n(S),A=n("5c96"),T=C.a.create({baseURL:"http://localhost:8000",timeout:5e3});T.interceptors.response.use((function(t){var e=t.data;if(2e4===e.code)return e;Object(A["Message"])({type:"error",showClose:!0,message:e.message||"Error",duration:3e3})}),(function(t){return Object(A["Message"])({message:"ÁΩëÁªúËØ∑Ê±ÇÂèëÁîüÈîôËØØÔºåËØ∑Ê£ÄÊü•ÊÇ®ÁöÑÁΩëÁªúÁä∂ÊÄÅÊàñËÅîÁ≥ªÁÆ°ÁêÜÂëò",showClose:!0,type:"error",duration:3e3}),Promise.reject(t)}));var k=T,$={postToBackend:function(t){return k({url:"upload/?relation=".concat(t[0],"&disease=").concat(t[1],"&medicine=").concat(t[2],"&tool=").concat(t[3]),method:"GET"})},translate:function(t){return k({url:"translate/?text=".concat(t),method:"get"})}},j={name:"ShowAnnotation",created:function(){var t=this;this.$bus.$on("showDrawer",(function(){t.drawer=!0}))},data:function(){return{colorArray:this.$store.state.annotate.colorArray,data:this.$store.state.annotate.data,type:this.$store.state.annotate.type,drawer:!1,relation:"",disease:"",medicine:"",tool:""}},computed:{isShow:function(){var t,e=Object(x["a"])(this.data);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.length>0)return!0}}catch(a){e.e(a)}finally{e.f()}return!1}},methods:{uploadData:function(){var t=this;$.postToBackend(this.$store.state.annotate.data).then((function(){t.$message.success("‰∏ä‰º†ÊàêÂäü"),t.drawer=!1}))}}},O=j,E=(n("b6f3"),Object(b["a"])(O,g,_,!1,null,"75f73430",null)),B=E.exports,I=n("2f62"),M={name:"TopNavigation",components:{AutoAnnotate:y,ShowAnnotation:B},computed:Object(l["a"])(Object(l["a"])({},Object(I["b"])(["avatar"])),{},{device:function(){return this.$store.state.app.device}}),mounted:function(){window.innerWidth<=400&&this.$store.dispatch("app/toggleDevice","mobile")},methods:{logout:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/logout");case 2:case"end":return e.stop()}}),e)})))()}}},N=M,D=(n("1015"),Object(b["a"])(N,r,s,!1,null,"1377fb0c",null)),P=D.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"paper"}},[n("div",{ref:"showDialog",staticClass:"dialog"},[t._l(t.$store.state.annotate.type,(function(e,a){return n("button",{key:a,style:{backgroundColor:t.$store.state.annotate.colorArray[a]},on:{click:function(e){return t.annotateText(a+"-"+t.$store.state.annotate.id,a)}}},[t._v(" "+t._s(e)+" ")])})),n("button",{on:{click:t.translateText}},[t._v("ÁøªËØë")])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTranslateCard,expression:"showTranslateCard"}],ref:"translateCard",staticClass:"translate-card"},[n("i",{staticClass:"el-message__closeBtn el-icon-close delete-button",on:{click:function(e){t.showTranslateCard=!1}}}),n("TranslateCard",{attrs:{result:t.translateResult}})],1),n("pre",{ref:"essay",staticClass:"input-content",style:"font-size:"+t.$store.state.annotate.fontSize+"px",attrs:{id:"essay"},domProps:{innerHTML:t._s(t.$store.state.annotate.inputContent)},on:{mouseup:function(e){return t.getSelection(e)}}})])},z=[],L=(n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{attrs:{shadow:"hover"}},[n("ul",[n("li",[t._v(t._s(t.result.code))]),n("li",[t._v(t._s(t.result.message))]),n("li",[t._v(t._s(t.result.data))])])])],1)}),H=[],W={name:"TranslateCard",props:{result:{type:String,default:function(){return"translate result"}}},methods:{}},J=W,U=Object(b["a"])(J,L,H,!1,null,"51393e07",null),Y=U.exports,F={name:"Essays",data:function(){return{selectText:"",showTranslateCard:!1,translateResult:""}},components:{TranslateCard:Y},methods:{showSelectBox:function(t,e){this.$refs.translateCard.style.left=t+10+"px",this.$refs.translateCard.style.top=e+10+"px"},getSelection:function(t){""!==window.getSelection().toString()&&(this.selectText=window.getSelection().toString(),this.$store.state.annotate.selectionText=window.getSelection().toString(),this.showSelectBox(t.clientX,t.clientY+document.documentElement.scrollTop),this.$refs.showDialog.style.display="block",this.showDialog=!0)},annotateText:function(t,e){h.annotate(t,e)},translateText:function(){var t=this;this.showDialog=!1;var e=window.getSelection().toString();$.translate(e).then((function(e){t.translateResult=e,t.$message({type:"success",message:e.message,showClose:!0}),t.showTranslateCard=!0}))}}},G=F,V=(n("9363"),Object(b["a"])(G,R,z,!1,null,"700c8c4f",null)),X=V.exports,q={name:"Home",components:{TopNavigation:P,Essay:X},data:function(){return{year:(new Date).getFullYear()}},mounted:function(){this.isPC()},methods:{isPC:function(){for(var t=["Android","iPhone","Windows Phone","iPad","iPod"],e=navigator.userAgent,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){this.$message.warning({message:"ÊâãÊú∫ÊòØÊó†Ê≥ïËøõË°åÊ†áÊ≥®ÁöÑÂì¶,ËØ∑‰ΩøÁî®ÁîµËÑëÊµèËßàÂô®„ÄÇ",duration:5e3,showClose:!0});break}}}},K=q,Q=(n("e7b9"),Object(b["a"])(K,a,o,!1,null,"9f7efe1c",null));e["default"]=Q.exports},9363:function(t,e,n){"use strict";n("3fff")},b6f3:function(t,e,n){"use strict";n("c0fc")},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("06c5");function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(a["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,s=t},f:function(){try{i||null==n["return"]||n["return"]()}finally{if(l)throw s}}}}},c0fc:function(t,e,n){},da85:function(t,e,n){},e7b9:function(t,e,n){"use strict";n("01d9")}}]);